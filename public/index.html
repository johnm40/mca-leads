<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MCA Business Lead Finder</title>
<style>
body { font-family:Arial; background:#0e0e12; color:white; text-align:center; }
input,select { padding:10px; margin:10px; width:260px; border-radius:6px; border:1px solid #555; }
button { padding:12px 20px; background:#ffc400; border:0; font-size:18px; cursor:pointer; }
#results { margin-top:20px; width:80%; margin-left:10%; background:#111; padding:20px; border-radius:8px; text-align:left; }
.lead { padding:10px; border-bottom:1px solid #333; }
</style>
</head>
<body>

<h2>🔥 MCA Lead Finder</h2>

<input id="query" placeholder="Business type e.g. Roofing">
<select id="state">
<option>CA</option><option>NY</option><option>FL</option><option>TX</option>
</select>

<br>
<button onclick="go()">Search Leads</button>

<div id="results"></div>

<script>
async function go(){
  const q = document.getElementById("query").value;
  const s = document.getElementById("state").value;
  const res = await fetch(`/api/leads-get.js?query=${q}&state=${s}`);
  const data = await res.json();

  const box = document.getElementById("results");
  box.innerHTML = "";
  data.forEach(b => box.innerHTML += `
    <div class="lead">
      <b>${b.business}</b><br>
      📍 ${b.address}<br>
      ⭐ ${b.rating || "N/A"}<br>
      📞 ${b.phone || "N/A"}
    </div>
  `);
}
</script>

</body>
</html>
