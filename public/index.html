<!DOCTYPE html>
<html>
<head>
<title>MCA Lead Finder</title>
<style>
body { font-family: Arial; margin: 40px; }
input, select, button { margin: 5px; padding: 8px; }
#results { margin-top: 20px; }
.lead { border-bottom: 1px solid #ddd; padding: 8px; }
</style>
</head>
<body>

<h2>MCA Lead Finder</h2>

<input id="query" placeholder="Business Type e.g. Roofing">
<select id="state">
  <option value="CA">CA</option>
  <option value="NY">NY</option>
  <option value="FL">FL</option>
  <option value="TX">TX</option>
</select>

<button onclick="findLeads()">Search</button>

<div id="results"></div>

<script>
async function findLeads() {
  const q = document.getElementById('query').value;
  const st = document.getElementById('state').value;

  const res = await fetch(`/api/leads?query=${q}&state=${st}`);
  const data = await res.json();

  const container = document.getElementById("results");
  container.innerHTML = "";

  data.forEach(l => {
    container.innerHTML += `
      <div class="lead">
        <b>${l.business}</b><br>
        Phone: ${l.phone}<br>
        Revenue: ${l.revenue}<br>
        State: ${l.state}
      </div>`;
  });
}
</script>

</body>
</html>
